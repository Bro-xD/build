import{l as N,E as b,h,a4 as R,a5 as L,a6 as g,a7 as d,a8 as T,m as E,p as A,a9 as o,k as q,n as v,a3 as x,a2 as D,d as F,aa as O,S as Y}from"./Bsa_4GQg.js";function B(s,f,e=!1){h&&q();var i=s,r=null,a=null,l=o,k=e?b:0,c=!1;const y=(n,t=!0)=>{c=!0,u(t,n)},u=(n,t)=>{if(l===(l=n))return;let _=!1;if(h){const I=i.data===R;!!l===I&&(i=L(),g(i),d(!1),_=!0)}l?(r?T(r):t&&(r=E(()=>t(i))),a&&A(a,()=>{a=null})):(a?T(a):t&&(a=E(()=>t(i))),r&&A(r,()=>{r=null})),_&&d(!0)};N(()=>{c=!1,f(y),c||u(null,null)},k),h&&(i=v)}function S(s,f){return s===f||(s==null?void 0:s[Y])===f}function C(s={},f,e,i){return x(()=>{var r,a;return D(()=>{r=a,a=[],F(()=>{s!==e(...a)&&(f(s,...a),r&&S(e(...r),s)&&f(null,...r))})}),()=>{O(()=>{a&&S(e(...a),s)&&f(null,...a)})}}),s}export{C as b,B as i};
