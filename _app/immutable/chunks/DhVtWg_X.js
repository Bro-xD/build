import{S as m,ab as M,ac as U,N as o,ad as A,f as w,a9 as l,y as c,t as P,F as K,ae as L,g as z,af as B,o as j,z as F,ag as Y,ah as Z}from"./Bsa_4GQg.js";import{s as $,g as q}from"./BHaOnMAo.js";function _(n,d=null,b){if(typeof n!="object"||n===null||m in n)return n;const a=z(n);if(a!==M&&a!==U)return n;var f=new Map,g=B(n),I=o(0);g&&f.set("length",o(n.length));var y;return new Proxy(n,{defineProperty(s,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&L();var r=f.get(e);return r===void 0?(r=o(t.value),f.set(e,r)):c(r,_(t.value,y)),!0},deleteProperty(s,e){var t=f.get(e);if(t===void 0)e in s&&f.set(e,o(l));else{if(g&&typeof e=="string"){var r=f.get("length"),i=Number(e);Number.isInteger(i)&&i<r.v&&c(r,i)}c(t,l),T(I)}return!0},get(s,e,t){var v;if(e===m)return n;var r=f.get(e),i=e in s;if(r===void 0&&(!i||(v=P(s,e))!=null&&v.writable)&&(r=o(_(i?s[e]:l,y)),f.set(e,r)),r!==void 0){var u=w(r);return u===l?void 0:u}return Reflect.get(s,e,t)},getOwnPropertyDescriptor(s,e){var t=Reflect.getOwnPropertyDescriptor(s,e);if(t&&"value"in t){var r=f.get(e);r&&(t.value=w(r))}else if(t===void 0){var i=f.get(e),u=i==null?void 0:i.v;if(i!==void 0&&u!==l)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(s,e){var u;if(e===m)return!0;var t=f.get(e),r=t!==void 0&&t.v!==l||Reflect.has(s,e);if(t!==void 0||K!==null&&(!r||(u=P(s,e))!=null&&u.writable)){t===void 0&&(t=o(r?_(s[e],y):l),f.set(e,t));var i=w(t);if(i===l)return!1}return r},set(s,e,t,r){var S;var i=f.get(e),u=e in s;if(g&&e==="length")for(var v=t;v<i.v;v+=1){var N=f.get(v+"");N!==void 0?c(N,l):v in s&&(N=o(l),f.set(v+"",N))}i===void 0?(!u||(S=P(s,e))!=null&&S.writable)&&(i=o(void 0),c(i,_(t,y)),f.set(e,i)):(u=i.v!==l,c(i,_(t,y)));var x=Reflect.getOwnPropertyDescriptor(s,e);if(x!=null&&x.set&&x.set.call(r,t),!u){if(g&&typeof e=="string"){var R=f.get("length"),O=Number(e);Number.isInteger(O)&&O>=R.v&&c(R,O+1)}T(I)}return!0},ownKeys(s){w(I);var e=Reflect.ownKeys(s).filter(i=>{var u=f.get(i);return u===void 0||u.v!==l});for(var[t,r]of f)r.v!==l&&!(t in s)&&e.push(t);return e},setPrototypeOf(){A()}})}function T(n,d=1){c(n,n.v+d)}function E(n){return n!==null&&typeof n=="object"&&m in n?n[m]:n}function H(n,d){return Object.is(E(n),E(d))}let h=!1,D=Symbol();function J(n,d,b){const a=b[d]??(b[d]={store:null,source:F(void 0),unsubscribe:j});if(a.store!==n&&!(D in b))if(a.unsubscribe(),a.store=n??null,n==null)a.source.v=void 0,a.unsubscribe=j;else{var f=!0;a.unsubscribe=$(n,g=>{f?a.source.v=g:c(a.source,g)}),f=!1}return n&&D in b?q(n):w(a.source)}function Q(){const n={};function d(){Y(()=>{for(var b in n)n[b].unsubscribe();Z(n,D,{enumerable:!1,value:!0})})}return[n,d]}function V(n){var d=h;try{return h=!1,[n(),h]}finally{h=d}}export{Q as a,V as c,H as i,_ as p,J as s};
